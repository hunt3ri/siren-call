# language setting
language: python

# version numbers test
python:
    - "3.7"

env:
    global:
        - secure: Zx6TjhJR15ls9L6B+FRLYEuyBmWSh8MMnFiElAfYYF/dBFm/H074CXSnxpHqG8gmckUb3cPt13hol/kHAvimKJ5KqyhMHb+cam2EnmsDNDxaH6KpL+cvN944urpYal/mCSgZZBwNDlG/44toXe6nDoHyMWiiY009g2PvDia8RVNu0WsYAYalh5NUvTxmc5lTmTBDr09FT80wTDh0CQYX4QIkcuhXEuaE5G3SFt+dfZ++7sCyRuhgNHLiQSdcs5Wg92AMi3rXBDcN2BqqazlneEEhjj/9FXIq8GOXL1RHK0nN6fg0DJ2PODp7VqXsOKAJ19s/TeAMKvPC1xthYtIERg==


build:
    ci:
        # Required to display test results in Shippable GUI
        - mkdir -p shippable/testresults
        - mkdir -p shippable/codecoverage

        # Install Python dependencies
        - python --version
        - pip install --upgrade pip
        - pip install pipenv
        - pipenv install --dev

        # Run linter
        - flake8 app

    on_success:
      # Run deploy script to manage deploy to appropriate environment
      - . ./devops/deploy.sh

integrations:
    notifications:
        - integrationName: email
          type: email
          recipients:
            - iain.hunter@outlook.com